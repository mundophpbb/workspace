<!DOCTYPE html>
<html dir="{S_CONTENT_DIRECTION}" lang="{S_USER_LANG}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{PAGE_TITLE}</title>
    
    <link href="{T_ASSETS_PATH}/css/font-awesome.min.css" rel="stylesheet">
    <link href="{T_WSP_ASSETS}/theme/workspace.css?v={WSP_GLOBAL_VERSION}" rel="stylesheet" type="text/css">
    
    <script src="{T_ASSETS_PATH}/javascript/jquery.min.js"></script>
    <script src="{T_WSP_ACE_PATH}/ace.js"></script>
</head>
<body class="wsp-standalone-body" style="margin:0; padding:0; background:#1e1e1e; overflow:hidden;">

    {% INCLUDE 'workspace_main_content.html' %}

    <script>
        // Verificação de segurança: garante que o objeto existe antes do ficheiro JS carregar
        var wspVars = {
            loadUrl: '{{ U_WORKSPACE_LOAD|raw }}',
            saveUrl: '{{ U_WORKSPACE_SAVE|raw }}',
            addUrl: '{{ U_WORKSPACE_ADD|raw }}',
            deleteUrl: '{{ U_WORKSPACE_DELETE|raw }}',
            addFileUrl: '{{ U_WORKSPACE_ADD_FILE|raw }}',
            uploadUrl: '{{ U_WORKSPACE_UPLOAD|raw }}',
            renameUrl: '{{ U_WORKSPACE_RENAME|raw }}',
            deleteFileUrl: '{{ U_WORKSPACE_DELETE_FILE|raw }}',
            diffUrl: '{{ U_WORKSPACE_DIFF|raw }}',
            searchUrl: '{{ U_WORKSPACE_SEARCH|raw }}',
            replaceUrl: '{{ U_WORKSPACE_REPLACE|raw }}',
            basePath: '{T_WSP_ACE_PATH}',
            lang: {
                loading: '{{ LA_WSP_LOADING|e("js") }}',
                saving: '{{ LA_WSP_SAVING|e("js") }}',
                confirm_delete: '{{ LA_WSP_CONFIRM_DELETE|e("js") }}'
                // ... adiciona as outras conforme necessário
            }
        };
    </script>
    
    <script src="{T_WSP_ASSETS}/template/workspace.js?v={WSP_VERSION}"></script>
</body>
</html>